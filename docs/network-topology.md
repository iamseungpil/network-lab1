# 네트워크 토폴로지 설명

## 전체 아키텍처

```
┌─────────────┐     ┌──────────────┐     ┌──────────────┐
│     CLI     │     │ Controller 1 │     │ Controller 2 │
│  (명령어)    │────▶│   (Primary)  │     │  (Secondary) │
└─────────────┘     └──────┬───────┘     └──────┬───────┘
     REST API              │ OpenFlow           │ OpenFlow
                          ▼                    ▼
                    ┌─────────────────────────────┐
                    │      Mininet Network        │
                    │    (10 Switches + 20 Hosts) │
                    └─────────────────────────────┘
```

## 스위치 토폴로지 (트리 구조)

```
                    s1 (DPID: 1)
                   /  \
                  /    \
            s2 (DPID: 2)  s3 (DPID: 3)
           /    |          |    \
          /     |          |     \
   s4 (DPID: 4) s5 (DPID: 5) s6 (DPID: 6) s7 (DPID: 7)
     /    |         |
    /     |         |
s8 (DPID: 8) s9 (DPID: 9) s10 (DPID: 10)
```

## 호스트 배치

| 스위치 | 연결된 호스트 | IP 주소 범위 |
|--------|---------------|--------------|
| s1     | h1, h2        | 10.0.0.1-2   |
| s2     | h3, h4        | 10.0.0.3-4   |
| s3     | h5, h6        | 10.0.0.5-6   |
| s4     | h7, h8        | 10.0.0.7-8   |
| s5     | h9, h10       | 10.0.0.9-10  |
| s6     | h11, h12      | 10.0.0.11-12 |
| s7     | h13, h14      | 10.0.0.13-14 |
| s8     | h15, h16      | 10.0.0.15-16 |
| s9     | h17, h18      | 10.0.0.17-18 |
| s10    | h19, h20      | 10.0.0.19-20 |

## 스위치 간 연결

| 연결 | 설명 |
|------|------|
| s1-s2 | 루트-브랜치 |
| s1-s3 | 루트-브랜치 |
| s2-s4 | 브랜치-리프 |
| s2-s5 | 브랜치-리프 |
| s3-s6 | 브랜치-리프 |
| s3-s7 | 브랜치-리프 |
| s4-s8 | 리프-리프 |
| s4-s9 | 리프-리프 |
| s5-s10| 리프-리프 |

## 통신 경로 예시

### h1 → h20 경로
```
h1 → s1 → s2 → s5 → s10 → h20
```

### h7 → h13 경로  
```
h7 → s4 → s2 → s1 → s3 → s7 → h13
```

## 컨트롤러 역할

### Primary Controller (controller1)
- **OpenFlow 포트**: 6633
- **REST API 포트**: 8080
- **기능**:
  - 모든 스위치의 기본 제어
  - L2 Learning Switch 기능
  - 플로우 테이블 관리
  - REST API를 통한 외부 인터페이스

### Secondary Controller (controller2)
- **OpenFlow 포트**: 6633 (컨테이너 내부), 6634 (호스트 매핑)
- **REST API 포트**: 8080 (컨테이너 내부), 8081 (호스트 매핑)
- **기능**:
  - 백업 컨트롤러 (Standby 모드)
  - Primary 장애 시 자동 활성화
  - 상태 모니터링 API 제공

## 네트워크 설정

### VLAN 구성
- 단일 브로드캐스트 도메인 (VLAN 없음)
- 모든 호스트가 동일 서브넷 (10.0.0.0/24)

### QoS 설정
- 기본 대역폭: 무제한
- 기본 지연: 최소
- 패킷 손실: 없음

### 보안 설정
- OpenFlow 1.3 프로토콜 사용
- 컨트롤러 인증: 없음 (실습 환경)
- 플로우 암호화: 없음